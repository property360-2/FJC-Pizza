{# Product Row Molecule - Admin Product List
   Usage in Django template:
   {% for product in products %}
       {% include "components/molecules/product-row-admin.html" with product=product %}
   {% endfor %}

   Expected context:
   - product: Product object with attributes (name, price, stock, low_stock_threshold, is_archived)
#}
{% load static %}

<tr>
    <td>
        <strong>{{ product.name }}</strong>
        {% if product.description %}
        <br><small class="text-muted">{{ product.description|truncatewords:10 }}</small>
        {% endif %}
    </td>
    <td class="text-success fw-bold">${{ product.price }}</td>
    <td>
        <span class="{% if product.stock == 0 %}text-danger{% elif product.stock < product.low_stock_threshold %}text-warning{% else %}text-success{% endif %}">
            {{ product.stock }}
        </span>
        {% if product.stock == 0 %}
            <span class="badge bg-danger ms-1">Out</span>
        {% elif product.stock < product.low_stock_threshold %}
            <span class="badge bg-warning text-dark ms-1">Low</span>
        {% endif %}
    </td>
    <td>
        <span class="badge {% if product.is_archived %}bg-secondary{% else %}bg-success{% endif %}">
            {% if product.is_archived %}
                <i class="bi bi-archive"></i> Archived
            {% else %}
                <i class="bi bi-check-circle"></i> Active
            {% endif %}
        </span>
    </td>
    <td>
        <div class="btn-group btn-group-sm" role="group">
            <a href="{% url 'products:product_detail' product.id %}" class="btn btn-outline-info" title="View">
                <i class="bi bi-eye"></i>
            </a>
            <a href="{% url 'products:product_edit' product.id %}" class="btn btn-outline-primary" title="Edit">
                <i class="bi bi-pencil"></i>
            </a>
            {% if not product.is_archived %}
            <button type="button" class="btn btn-outline-warning" title="Archive" onclick="archiveProduct({{ product.id }})">
                <i class="bi bi-archive"></i>
            </button>
            {% else %}
            <button type="button" class="btn btn-outline-success" title="Unarchive" onclick="unarchiveProduct({{ product.id }})">
                <i class="bi bi-arrow-counterclockwise"></i>
            </button>
            {% endif %}
        </div>
    </td>
</tr>
